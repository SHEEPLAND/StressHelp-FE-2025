import"./modulepreload-polyfill-B5Qt9EMX.js";import{f as c}from"./fetch-CfNAfVVD.js";document.addEventListener("DOMContentLoaded",function(){const t=document.querySelector(".login-form"),r=async o=>{o.preventDefault();const s=document.querySelector("#login-username").value.trim(),a=document.querySelector("#login-pass").value.trim(),l={username:s,password:a},i="http://4.231.239.48/api/auth/login",n={body:JSON.stringify(l),method:"POST",headers:{"Content-type":"application/json"}};console.log("Sending request:",n);const e=await c(i,n);if(e.error){console.error("Login error:",e.error),alert("Invalid login credentials");return}e.message&&(console.log(e.message,"success"),localStorage.setItem("token",e.token),localStorage.setItem("nimi",e.user.username),alert("Login successful! Redirecting..."),window.location.href="data.html"),console.log("Login response:",e),t.reset()};document.addEventListener("DOMContentLoaded",()=>{const o=document.getElementById("logout-button");o&&o.addEventListener("click",()=>{console.log("Logging out..."),localStorage.removeItem("token"),localStorage.removeItem("user_id"),window.location.href="login.html"})}),t.addEventListener("submit",r)});
