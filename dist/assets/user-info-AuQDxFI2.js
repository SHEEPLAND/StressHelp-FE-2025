import{f as r}from"./fetch-CfNAfVVD.js";document.addEventListener("DOMContentLoaded",async()=>{const t=localStorage.getItem("token");if(!t){alert("Ei kirjautunut sisään"),window.location.href="login.html";return}const n="http://4.231.239.48/api/kubios-data/user-info",o={method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}};try{const e=await r(n,o);if(e&&e.user){const a=new Date(e.user.birthdate).toLocaleDateString("fi-FI");document.getElementById("given-name").textContent=e.user.given_name,document.getElementById("family-name").textContent=e.user.family_name,document.getElementById("birthdate").textContent=a,document.getElementById("email").textContent=e.user.email}else console.error("Virheellinen vastaus:",e),alert("Tietojen hakeminen epäonnistui.")}catch(e){console.error("Virhe:",e)}});
