<!DOCTYPE html>
<html lang="fi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" href="../css/data.css"> 
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css"/>
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet" />

    <title>Data</title>
  </head>

  <body>
    <!-- Header and Navigation -->
    <header>
      <nav>
        <div class="navigation-logo">
          <a href="index.html">
            <span style="color:#4faae6;">Stress</span><span style="color:#ffffff;">Help</span>
          </a>
        </div>

        <ul class="navigation-links" id="navigation-links">
          <li class="navigation-link"><a href="index.html">Etusivu</a></li>
          <li class="navigation-link"><a href="kysely.html">Itsearviointi</a></li>
          <li class="navigation-link"><a href="data.html">Stressidata</a></li>
          <li class="navigation-link"><a href="diary-page.html">P√§iv√§kirja</a></li>
          <li class="navigation-link"><a href="tools.html">Vinkit & Tuki</a></li>

          <!-- Profile dropdown-->
          <li class="navigation-link profile-dropdown">
            <button class="profile-button" aria-haspopup="true" aria-expanded="false" aria-controls="profile-menu" id="profile-button">
              <i class="ri-user-line"></i> <span>K√§ytt√§j√§</span> <i class="ri-arrow-down-s-line"></i>
            </button>
            <div class="profile-dropdown-box">
              <div class="arrow-up"></div> 
              <div class="profile-dropdown-content" id="profile-menu">
                <a href="user-info.html"><i class="ri-user-settings-line"></i> Omat tiedot</a>
                <a href="login.html" id="login-link"><i class="ri-login-box-line"></i> Kirjaudu sis√§√§n</a>
              </div>
            </div>
          </li>

          <li class="navigation-link mobile-only"><a href="user-info.html">Omat Tiedot</a></li>
          <li class="navigation-link mobile-only"><a href="login.html" id="login-link-mobile">Kirjaudu sis√§√§n</a></li>
        </ul>

        <div class="navigation-menu-button" id="menu-button">
          <span><i id="menu-btn-icon" class="ri-menu-line"></i></span>
        </div>
      </nav>

      <div class="section-container header-container" id="home"></div>
    </header>

    <!-- Welcome + Diary Entry Overview -->
    <section class="about" id="about">
      <div class="section-container about-container">
        <div class="about-grid">
          <div class="about-content">
            <p class="section-subheader">StressHelp</p>
            <h2 class="section-header">Tervetuloa <span id="given-name"></span></h2> 
            <p class="paragraph">
              Olet kirjautunut sis√§√§n Kubios-tilill√§si. Nyt voit seurata hyvinvointiasi kehon mittausten ja omien p√§iv√§kirjamerkint√∂jen avulla.
              <br><br />
              N√§et viimeisimm√§t tulokset ja merkint√§si ‚Äì sek√§ halutessasi my√∂s pidemm√§n Kubios-historian, viikosta kolmeen kuukauteen. S√§√§nn√∂llinen seuranta tukee matkaasi kohti tasapainoa.
            </p>
          </div>

          <!-- Diary Table -->
          <div class="about-list">
            <div class="about-item about-table">
              <div>
                <p class="section-subheader section-subheader--color">Viimeisin p√§iv√§kirjamerkint√§ üóìÔ∏è</p>
                <table class="latest-entry-table">
                  <tr><th>P√§iv√§</th><td id="latest-date">-</td></tr>
                  <tr><th>Stressitaso</th><td id="latest-stress">-</td></tr>
                  <tr><th>Merkint√§</th><td id="latest-notes">-</td></tr>
                </table>
                <div class="entry-buttons">
                  <button class="btn btn-primary" onclick="window.location.href='diary-page.html'">
                    + Uusi p√§iv√§kirjamerkint√§
                  </button>
                  <a href="#statistics-second" class="btn btn-secondary">
                    Siirry Mittausdataan
                  </a>
                </div>
                
              </div>
            </div>
          </div>

        </div>
      </div>
    </section>

    <!-- Measurement Instructions Accordion -->
    <section class="Info" id="Info">
      <div class="section-container Info-container">
        <p class="section-subheader section-subheader--logo">Ohjeet ensimm√§iseen mittaukseen</p>

        <div class="accordion-container">
          <button class="accordion active">Miten mittaus toimii?
            <span class="accordion-icon">‚àí</span>
          </button>

          <div class="panel">
            <div class="Info-grid">
              <div class="Info-card">
                <img src="../img/freepik__background__22460.png" alt="Step 1">
                <h3>Vaihe 1: Valmistele mittaus</h3>
                <p>
                  Lataa puhelimeesi 
                  <a href="https://www.kubios.com/hrv-app/" target="_blank" rel="noopener" style="font-weight: bold; color: #0066cc;">
                    Kubios HRV -sovellus
                  </a> 
                  ja k√§yt√§ yhteensopivaa laitetta (esim. Polar H10).
                  Voit k√§ytt√§√§ omaa laitetta tai lainata sellaisen YTHS:lt√§ tai oppilaitoksestasi.
                </p>
              </div>

              <div class="Info-card">
                <img src="../img/smartwatch-heart-rate-monitoring-abstract-concept-vector-illustration.png" alt="Step 2">
                <h3>Vaihe 2: Suorita mittaus</h3>
                <p>K√§ynnist√§ mittaus Kubios-sovelluksessa. Istu rauhassa paikallasi mittauksen ajan (noin 3‚Äì5 minuuttia).</p>
              </div>

              <div class="Info-card">
                <img src="../img/online-shopping-store-physical-shop-isolated-graphics.png" alt="Step 3">
                <h3>Vaihe 3: Seuraa tuloksia</h3>
                <p>N√§et mittaustulokset t√§√§ll√§ StressHelpiss√§. Voit my√∂s lis√§t√§ p√§iv√§kirjamerkint√∂j√§ ja seurata hyvinvointisi kehityst√§.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Latest Measurements Summary -->
    <section class="statistics" id="statistics">
      <div class="section-container statistics-container">
        <div class="statistics-content">
          <p class="section-subheader">Data Analyysi</p>
          <h2 class="section-header">Viimeisin mittaustulos</h2>
          <p class="paragraph">
            N√§m√§ mittaustulokset perustuvat Kubiosin mittauksiin ja kertovat stressitasostasi sek√§ kehon palautumiskyvyst√§.
          </p>

          <!-- Stat cards -->
          <div class="statistics-grid">
            <div class="statistics-card">
              <span><i class="ri-battery-charge-line"></i></span>
              <h3 id="readiness-value">--%</h3>
              <p>Valmiusindeksi (%)</p>
              <div class="tooltiptext tooltip-readiness">
                Kuvaa kehosi valmiutta selviyty√§ haasteista. Perustuu HRV-arvoihin ja stressitasoon.
              </div>
              <p id="readiness-category"></p>
            </div>

            <div class="statistics-card">
              <span><i class="ri-alert-line"></i></span>
              <h3 id="stress-index-value">--</h3>
              <p>Stressi-indeksi</p>
              <div class="tooltiptext tooltip-stressi-indeksi">
                Korkea arvo = korkea stressi, matala HRV.
              </div>
            </div>

            <div class="statistics-card">
              <span><i class="ri-brain-line"></i></span>
              <h3 id="rmssd-value">-- ms</h3>
              <p>RMSSD ‚Äì sykev√§livaihtelu</p>
              <div class="tooltiptext tooltip-RMSSD">
                Korkea arvo = hyv√§ palautuminen, aktiivinen parasympaattinen hermosto.
              </div>
            </div>

            <div class="statistics-card">
              <span><i class="ri-heart-pulse-line"></i></span>
              <h3 id="mean-hr-value">-- bpm</h3>
              <p>Keskisyke (BPM)</p>
              <div class="tooltiptext tooltip-Syke">
                Matala leposyke = hyv√§ kunto ja palautuminen.
              </div>
            </div>

            <p class="para" id="stress-level-text">Stressi taso: --</p>
          </div>
        </div>

        <!-- Chart canvas -->
        <div class="statistics-image">
          <div class="chart-wrapper">
            <canvas id="resultsChart"></canvas>
          </div>
        </div>
        
      </div>
    </section>

    <!-- Measurement History Chart -->
    <section class="chart-section" id="statistics-second">
      <div class="section-container">
        <p class="section-subheader">Historia</p>
        <h2 class="section-header">Kubios-mittaushistoria</h2>
        <p class="paragraph">
          Seuraa stressi√§, palautumista ja valmiutta eri ajanjaksoilla. Valitse haluamasi n√§kym√§ (esim. viikko, kuukausi tai 3 kuukautta) ja tarkastele mittareita kuten valmiusindeksi, stressi-indeksi tai sykevaihtelu erillisiss√§ kaavioissa.
        </p>

        <!-- Chart controls -->
        <div class="controls">
          <label for="chartTypeSelect"><strong> Valitse n√§kym√§:</strong></label>

          <div class="custom-select-wrapper">
            <select id="chartTypeSelect">
              <option value="line">üìà Edistymisen aikajana</option>
              <option value="bar">üìä Sessioyhteenveto historia</option>
            </select>
            <div class="custom-arrow">
              <i class="ri-arrow-down-s-line"></i>
            </div>
          </div>

          <div class="range-toggle">
            <button class="range-btn active" data-range="3months">3 kuukautta</button>
            <button class="range-btn" data-range="month">Kuukausi</button>
            <button class="range-btn" data-range="week">Viikko</button>
          </div>
        </div>

        <div id="chartdiv"></div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <div class="section-container footer-container">
        <div class="footer-section">
          <h4>
            <a href="index.html">
              <span style="color:#4faae6;">Stress</span><span style="color:#000000;">Help</span>
            </a>
          </h4>
          <p>
            StressHelp tukee sinua stressinhallinnassa ‚Äì seuraa hyvinvointiasi, tee itsearviointeja ja l√∂yd√§ keinoja palautumiseen.
          </p>
          
        </div>

        <div class="footer-bar">
          &copy; 2025 Ryhm√§ 8 ‚Äì StressHelp. Kaikki oikeudet pid√§tet√§√§n.
        </div>
      </div>
    </footer>


    

    <!-- Scripts and libraries -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>
    <script src="https://unpkg.com/scrollreveal"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/index.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/xy.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/themes/Animated.js"></script>

    <!-- Local JS modules -->
    <script type="module" src="../js/auth.js"></script>
    <script type="module" src="../js/user-info.js"></script>
    <script type="module" src="../js/home.js"></script>
    <script type="module" src="../js/data.js"></script>
    <script type="module" src="../js/test.js"></script>
  </body>
</html>
